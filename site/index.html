<html>
  <head>
    <title>Snipplet Tutorial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="https://bootswatch.com/yeti/bootstrap.min.css"></link>
    <script type="text/javascript" src="http://cdn.opalrb.org/opal/current/opal.min.js"></script>
    <script type="text/javascript" src="http://cdn.opalrb.org/opal/current/opal-parser.min.js"></script>
    <script src="../dist/snipplets.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.16.0/mode/ruby/ruby.min.js"></script>
  </head>
  <body>
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <div class="navbar-brand">
            Snipplets!
          </div>
        </div>
      </div>
    </div>

    <textarea class="snipplet-responder" data-deps="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.js,https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.js," id="react">
      (function(result, el) {
        if (result === undefined) el.innerHTML = '';
        el.style.padding = '10px';
        ReactDOM.render(result.result, el);
      })
    </textarea>

    <textarea class="snipplet-compiler" id="ruby" data-deps="http://cdn.opalrb.org/opal/current/opal.min.js">
      Opal.load('opal-parser');

      (function(code) {
        return Opal.compile(code);
      })
    </textarea>

    <textarea class="markdown">
# Making Snipplets is easy!

This is a simple snipplet:
```html
<textarea class="snipplet">

[1, 2, 3, 4].map(x => x + 1);

&lt;/textarea>

```
Add That to a simple HTML file that pulls in the snipplet js file, and the following snipplet will be displayed!

(Try editing it)

    </textarea>

    <textarea class="snipplet">

[1, 2, 3, 4].map(x => x + 1);

    </textarea>

    <textarea class="markdown">
# Adding a responder

A responder is a text area with a class of `snipplet-responder`.  Responders can change how evaluated values are evaluated.  It is a simple function that takes 2 arguments.  The evaluated result of the snipplet, and an element that you can use to display the result.

Responders can also have a comma separated list of dependencies.  Here is a simple react responder.  The function is surrounded by parenthesis to make it an expression.

```html
    <textarea
      class="snipplet-responder"
      data-deps="
        https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.js,
        https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.js
      "
      id="react">

      (function(result, el) {
        if (result === undefined) el.innerHTML = '';
        el.style.padding = '10px';
        ReactDOM.render(result.result, el);
      })

    &lt;/textarea>
```
To use a responder just give your snipplet a `data-responder-id` attribute.
```html
<textarea class="snipplet" data-responder-id="react">

function Test({ text }) {
  return <div onClick={() => alert(text)}>Greetings</div>
};

<Test text="Why Hello There!"/>

&lt;/textarea>
```

Here is the snipplet above in action!
    </textarea>

<textarea class="snipplet" data-responder-id="react">

function Test({ text }) {
  return <div onClick={() => alert(text)}>Greetings!</div>
}

<Test text="Why Hello There!"/>
</textarea>


    <textarea class="markdown">
# Adding a compiler

New compilers are also easy to add

    </textarea>

    <textarea class="snipplet" data-compiler-id="ruby" data-mode="ruby">
[1, 2, 3, 4].map do
  |x| x + 1
end
    </textarea>

  </body>
</html>
